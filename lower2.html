<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lower 2 â€” Qualis Artifex</title>

  <style>
    html,body{height:100%;margin:0;overflow:hidden;background:#0f0e0d;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
    .wrapper{position:relative;width:100vw;height:100vh;isolation:isolate;}
    .bg{position:absolute;inset:0;overflow:hidden;z-index:0}
    .bg::before{content:"";position:absolute;inset:0;background:#151311 var(--bg) center/cover no-repeat;filter:contrast(1.03) saturate(0.98);}
    canvas#dust{position:absolute;inset:0;z-index:1;mix-blend-mode:screen;pointer-events:none}
    .hotspot{position:absolute;z-index:2;display:block;
      left:calc(var(--x)*1%); top:calc(var(--y)*1%);
      width:calc(var(--w)*1%); height:calc(var(--h)*1%);
      background:transparent; border:none; cursor:pointer; text-indent:-9999px; overflow:hidden;}
    .back{position:absolute;z-index:3;left:12px;top:12px;background:rgba(20,20,20,.55);color:#e9e3d7;border:1px solid rgba(255,255,255,.25);border-radius:10px;padding:8px 12px;text-decoration:none}
    .back:hover{filter:brightness(1.05)}
  </style>

<style>:root{ --bg: url('assets/background-lower2.jpg'); }</style>


  <style>
    /* Slower page transitions w/ gentle curve */
    .wrapper{ opacity:0; filter:blur(0.6px);
      transition: opacity .60s cubic-bezier(.22,.61,.36,1), filter .60s ease; }
    .wrapper.ready{ opacity:1; filter:blur(0); }
    .wrapper.transitioning{ opacity:0; filter:blur(2px); }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .wrapper{ transition:none !important; filter:none !important; }
      .wrapper.ready,.wrapper.transitioning{ opacity:1; filter:none; }
    }

    /* Active plaque hover hint (very subtle) */
    a.hotspot[data-active="true"]:hover{ background:rgba(255,224,160,0.06); box-shadow:0 0 0 1px rgba(255,200,0,0.22) inset; }
    a.hotspot[data-active="true"]{ cursor:pointer; }
    /* Inert plaques already have default cursor inline */

    /* Keyboard focus for accessibility (only when tabbed) */
    a.hotspot:focus-visible{ outline:2px dashed rgba(255,220,160,.45); outline-offset:2px; }
  </style>


  <style>
    a.hotspot:hover, a.hotspot:focus{ outline:none !important; box-shadow:none !important; border:none !important; }
  </style>


<style>

/* MOBILE IMAGE MODE: use a real <img> for exact sizing, enable scroll */
@media (pointer:coarse) {
  html, body { overflow:auto !important; height:auto !important; }
  .wrapper { position:relative; width:100vw; height:auto !important; min-height:100svh; }
  .bg { position:relative; inset:auto; }
  .bg::before { content:none !important; } /* hide CSS background; we inject <img> */
  .bg > img.bgimg { display:block; width:100%; height:auto; max-width:100%; }
}

</style>
</head><body>
<div class="wrapper" id="wrap"><div class="bg"><canvas id="dust"></canvas></div>
    <a class="hotspot" data-i="1" data-label="No link 1" style="--x:14.229; --y:25.300; --w:9.490; --h:13.491;" href="#" onclick="return false;" style="cursor:default;">No link 1</a>
    <a class="hotspot" data-i="2" data-label="No link 2" style="--x:26.184; --y:23.340; --w:10.007; --h:13.615;" href="#" onclick="return false;" style="cursor:default;">No link 2</a>
    <a class="hotspot" data-i="3" data-label="No link 3" style="--x:61.556; --y:26.051; --w:20.180; --h:12.588;" href="#" onclick="return false;" style="cursor:default;">No link 3</a>
    <a class="hotspot" data-i="4" data-label="Back" style="--x:19.492; --y:74.563; --w:9.620; --h:9.098;" href="index.html">Back</a>
    <a class="hotspot" data-i="5" data-label="Textbook Folder" style="--x:32.150; --y:74.072; --w:9.815; --h:9.628;" href="https://drive.google.com/drive/folders/0B-Qj28gpl1H3LThZUTFWYmxTY1k?resourcekey=0--JTE4jyPoxoDUcG5geMPrw">Textbook Folder</a>
    <a class="hotspot" data-i="6" data-label="No link 6" style="--x:44.168; --y:74.046; --w:10.004; --h:10.120;" href="#" onclick="return false;" style="cursor:default;">No link 6</a>
    <a class="hotspot" data-i="7" data-label="No link 7" style="--x:56.705; --y:74.153; --w:9.972; --h:9.658;" href="#" onclick="return false;" style="cursor:default;">No link 7</a>
    <a class="hotspot" data-i="8" data-label="FlashCards" style="--x:69.053; --y:74.362; --w:10.031; --h:9.533;" href="https://qualisartifex1.github.io/FlashCards/">FlashCards</a>

</div>




<script>
(function dust(){
  const canvas = document.getElementById('dust');
  const ctx = canvas.getContext('2d');
  const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  let w, h, dpr;
  let motes = [];
  const LAYERS = [
    { z: 0.25, count: 36,  size:[0.6,1.2], speed:[0.02,0.06], opacity:[0.18,0.38], blur: 1.2 },
    { z: 0.55, count: 64,  size:[0.9,1.8], speed:[0.04,0.10], opacity:[0.20,0.42], blur: 1.6 },
    { z: 1.00, count: 52,  size:[1.2,2.4], speed:[0.06,0.14], opacity:[0.25,0.48], blur: 2.4 },
  ];

  let mx = 0.5, my = 0.45, tx = 0.5, ty = 0.45;
  const lerp = (a,b,t)=>a+(b-a)*t;
  const clamp = (v,a,b)=>Math.max(a,Math.min(b,v));

  function size(){ dpr=Math.min(window.devicePixelRatio||1,2); if (window.matchMedia && matchMedia('(pointer:coarse)').matches){ const r=canvas.getBoundingClientRect(); w=r.width||innerWidth; h=r.height||innerHeight; } else { w=innerWidth; h=innerHeight; } canvas.width=Math.floor(w*dpr); canvas.height=Math.floor(h*dpr); ctx.setTransform(dpr,0,0,dpr,0,0); }
  size(); addEventListener('resize', size);

  function rand(a,b){ return a + Math.random()*(b-a); }

  function makeMote(layer){
    const color = Math.random()>0.6 ? '#fff7d6' : '#f4e2b5';
    return {
      x: Math.random()*w,
      y: Math.random()*h,
      r: rand(layer.size[0], layer.size[1]),
      a: Math.random()*Math.PI*2,
      s: rand(layer.speed[0], layer.speed[1]) * (reduceMotion ? 0.3 : 1),
      o: rand(layer.opacity[0], layer.opacity[1]),
      z: layer.z,
      c: color,
      tw: Math.random()*200 + 80,
      t: Math.random()*Math.PI*2
    };
  }
  function reset(p, fromTop=false){
    p.x = Math.random()*w;
    p.y = fromTop ? -10 : Math.random()*h;
  }
  function init(){
    motes = [];
    LAYERS.forEach(layer=>{
      for(let i=0;i<layer.count;i++){ motes.push(makeMote(layer)); }
    });
  }
  init();

  window.addEventListener('mousemove', e=>{ tx = e.clientX/w; ty = e.clientY/h; }, { passive: true });

  const WIND={t:0,px:34,py:46,sx:0.22,sy:0.16};

  function drawLightShafts(time){
    ctx.save();
    ctx.globalCompositeOperation='lighter';
    const baseAlpha=0.12;
    const flicker=0.94+0.08*Math.sin(time/900);
    const beams=[
      { angle:15*Math.PI/180, width:260, spread:0.65, alpha: baseAlpha*1.0 },
      { angle:28*Math.PI/180, width:200, spread:0.75, alpha: baseAlpha*0.9 },
      { angle:40*Math.PI/180, width:160, spread:0.85, alpha: baseAlpha*0.8 },
    ];
    beams.forEach((b,i)=>{
      const grad=ctx.createLinearGradient(0,0,Math.cos(b.angle)*b.width,Math.sin(b.angle)*b.width);
      grad.addColorStop(0,`rgba(255,240,210,${(b.alpha*flicker).toFixed(3)})`);
      grad.addColorStop(1,'rgba(255,240,210,0)');
      ctx.fillStyle=grad;
      ctx.beginPath();
      const sx=0, sy=0;
      const far=Math.hypot(w,h)*b.spread;
      const nx=Math.cos(b.angle), ny=Math.sin(b.angle);
      const w0=50+i*25, w1=w0*3.6;
      const px=-ny, py=nx;
      ctx.moveTo(sx+px*w0,sy+py*w0);
      ctx.lineTo(sx-px*w0,sy-py*w0);
      const fx=sx+nx*far, fy=sy+ny*far;
      ctx.lineTo(fx-px*w1,fy-py*w1);
      ctx.lineTo(fx+px*w1,fy+py*w1);
      ctx.closePath();
      ctx.fill();
    });
    ctx.restore();
  }

  function windowShimmer(x,y,time){
    const lx=w*0.06, ly=h*0.04;
    const dx=(x-lx)/w, dy=(y-ly)/h;
    const d=Math.sqrt(dx*dx+dy*dy);
    const influence=clamp(1-d*2.2,0,1);
    if(influence<=0) return 0;
    const s=0.08*Math.sin(time/700+x*0.004+y*0.003);
    return s*influence;
  }

  let last=performance.now();
  function tick(now){
    const dt=Math.min(60,now-last); last=now;
    mx=lerp(mx,tx,0.03); my=lerp(my,ty,0.03);
    ctx.clearRect(0,0,w,h);
    ctx.globalCompositeOperation='source-over';
    ctx.globalAlpha=0.07;
    ctx.fillStyle='#0c0a07';
    ctx.fillRect(0,0,w,h);
    WIND.t+=dt/1000;
    const windX=reduceMotion?0:WIND.sx*Math.sin(2*Math.PI*WIND.t/WIND.px);
    const windY=reduceMotion?0:WIND.sy*Math.cos(2*Math.PI*WIND.t/WIND.py);
    for(const layer of LAYERS){
      const depthShiftX=(mx-0.5)*(1.2-layer.z)*12;
      const depthShiftY=(my-0.5)*(1.2-layer.z)*10;
      ctx.shadowBlur=layer.blur;
      ctx.shadowColor='rgba(255,240,210,0.95)';
      for(const p of motes){
        if(p.z!==layer.z) continue;
        p.a+=(Math.random()-0.5)*0.02;
        p.x+=Math.cos(p.a)*p.s*(0.8+p.z*0.6)+windX*(0.5+p.z*0.8);
        p.y+=Math.sin(p.a)*p.s*0.4+0.015*(1+p.z*1.5)+windY*(0.3+p.z*0.6);
        if(p.x<-20||p.x>w+20||p.y>h+20){ reset(p,true); }
        p.t+=(2*Math.PI)/p.tw*(dt/1000);
        const tw=0.85+0.15*Math.sin(p.t);
        const shimmer=windowShimmer(p.x,p.y,now);
        const alpha=clamp(p.o*tw+shimmer,0,0.85);
        ctx.globalAlpha=alpha;
        ctx.fillStyle=p.c;
        ctx.beginPath();
        ctx.arc(p.x+depthShiftX,p.y+depthShiftY,p.r,0,Math.PI*2);
        ctx.fill();
      }
    }
    drawLightShafts(now);
    ctx.shadowBlur=0;
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);
})();
</script>





<script>
(function(){
  const wrap = document.querySelector('.wrapper');
  // Fade-in on load (slower)
  window.addEventListener('DOMContentLoaded', ()=>{
    requestAnimationFrame(()=> wrap && wrap.classList.add('ready'));
  });

  // Helper: mark active vs inert, prefetch internal pages on hover
  document.querySelectorAll('a.hotspot').forEach(a=>{
    const href = a.getAttribute('href') || '';
    const isExternal = /^https?:\/\//i.test(href);
    const isInternalNav = !!href && href !== '#' && !isExternal;

    if(isExternal){
      a.setAttribute('target','_blank');
      a.setAttribute('rel','noopener');
      a.setAttribute('data-active','true');
    } else if(isInternalNav){
      a.setAttribute('data-active','true');
      // Prefetch the target page on hover/focus to smooth transition
      const prefetch = () => {
        if(a.dataset.prefetched) return;
        const link = document.createElement('link');
        link.rel = 'prefetch';
        link.href = href;
        document.head.appendChild(link);
        a.dataset.prefetched = '1';
      };
      a.addEventListener('mouseenter', prefetch, { once: true });
      a.addEventListener('focus', prefetch, { once: true });

      a.addEventListener('click', (e)=>{
        e.preventDefault();
        if(!wrap){ window.location.href = href; return; }
        wrap.classList.add('transitioning');
        setTimeout(()=>{ window.location.href = href; }, 580); // match CSS ~600ms
      });
    }
  });
})();
</script>


<script>
(function(){
  if (!matchMedia('(pointer:coarse)').matches) return;
  const root = document.documentElement;
  const bgVar = getComputedStyle(root).getPropertyValue('--bg') || "";
  const m = bgVar.match(/url\((['"]?)(.*?)\1\)/);
  if(!m) return;
  const url = m[2];
  const bg = document.querySelector('.bg');
  if(!bg) return;
  const img = new Image();
  img.className = 'bgimg';
  img.alt = '';
  img.onload = function(){
    const canvas = document.getElementById('dust');
    const fit = () => {
      if(!canvas) return;
      const rect = img.getBoundingClientRect();
      canvas.style.width = rect.width + 'px';
      canvas.style.height = rect.height + 'px';
      window.dispatchEvent(new Event('resize'));
    };
    new ResizeObserver(fit).observe(img);
    fit();
  };
  img.src = url;
  bg.prepend(img);
})();
</script>

</body></html>
